<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ë³¸ì–´ ì¢…í•© í€´ì¦ˆ: íˆë¡œì¸ (ì „ì²´ 74ë¬¸ì œ)</title>
    <style>
        body {
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .quiz-container {
            background-color: white;
            width: 100%;
            max-width: 600px;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            position: relative;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            color: #666;
            font-size: 0.9em;
        }

        .score-badge {
            background-color: #4a90e2;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }

        /* ë¬¸ì œ ìœ í˜• ë¼ë²¨ */
        .type-label {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 8px;
            font-size: 0.8em;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .type-meaning { background-color: #e3f2fd; color: #1565c0; }
        .type-blank { background-color: #fff3e0; color: #e65100; }
        .type-order { background-color: #e8f5e9; color: #2e7d32; }

        .question-area {
            margin-bottom: 30px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .question-text {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            line-height: 1.4;
            margin-bottom: 10px;
        }

        .sub-text {
            font-size: 1em;
            color: #777;
        }

        /* ê°ê´€ì‹ ë²„íŠ¼ */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .option-btn {
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px;
            font-size: 1.1em;
            color: #495057;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option-btn:hover { background-color: #e2e6ea; }
        .option-btn.correct { background-color: #d4edda; border-color: #28a745; color: #155724; }
        .option-btn.wrong { background-color: #f8d7da; border-color: #dc3545; color: #721c24; }

        /* ë¬¸ì¥ ë°°ì—´ */
        .scramble-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-top: 20px;
        }
        .word-chip {
            padding: 10px 15px;
            background-color: white;
            border: 2px solid #4a90e2;
            color: #4a90e2;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            transition: transform 0.2s, background-color 0.2s;
        }
        .word-chip:hover {
            transform: translateY(-2px);
            background-color: #e3f2fd;
        }
        .word-chip.used {
            opacity: 0.3;
            cursor: default;
            transform: none;
            border-color: #ccc;
            color: #ccc;
        }
        
        .answer-box {
            min-height: 50px;
            border-bottom: 2px solid #ddd;
            margin: 10px 0 20px 0;
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 5px;
            padding: 5px;
        }
        .answer-chip {
            padding: 5px 12px;
            background-color: #4a90e2;
            color: white;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .feedback-area {
            margin-top: 20px;
            display: none;
        }
        .feedback-msg {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .next-btn {
            padding: 12px 40px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1em;
            cursor: pointer;
        }
        .reset-btn {
            padding: 8px 16px;
            background-color: #999;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 0.9em;
            cursor: pointer;
            margin-top: 10px;
        }

        @media (max-width: 500px) {
            .options-grid { grid-template-columns: 1fr; }
            .question-text { font-size: 1.3em; }
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        <div class="header" id="quiz-header">
            <span id="progress">ë¬¸ì œ 1 / 74</span>
            <div class="score-badge" id="score">ì ìˆ˜: 0</div>
        </div>

        <div id="quiz-content"></div>

        <div class="feedback-area" id="feedback">
            <div class="feedback-msg" id="feedback-msg"></div>
            <div id="feedback-detail" style="margin-bottom:15px; color:#555;"></div>
            <button class="next-btn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â–¶</button>
        </div>
    </div>

    <script>
        // 74ê°œ ë‹¨ì–´ì™€ ì˜ˆë¬¸ ë°ì´í„° (ì˜¤ë¥˜ ìˆ˜ì •ë¨)
        const vocabData = [
            { word: "å›", reading: "ãã¿", meaning: "ë„ˆ, ê·¸ëŒ€", sentence: "å›ã®ã“ã¨ãŒå¥½ãã ã€‚", trans: "ë„ˆë¥¼ ì¢‹ì•„í•´." },
            { word: "æ¯æ—¥", reading: "ã¾ã„ã«ã¡", meaning: "ë§¤ì¼", sentence: "æ¯æ—¥æ—¥æœ¬èªã‚’å‹‰å¼·ã™ã‚‹ã€‚", trans: "ë§¤ì¼ ì¼ë³¸ì–´ë¥¼ ê³µë¶€í•´." },
            { word: "åƒ•", reading: "ã¼ã", meaning: "ë‚˜ (ë‚¨ì„±)", sentence: "åƒ•ã¯å­¦ç”Ÿã§ã™ã€‚", trans: "ì €ëŠ” í•™ìƒì…ë‹ˆë‹¤." },
            { word: "ä¼¼åˆã†", reading: "ã«ã‚ã†", meaning: "ì–´ìš¸ë¦¬ë‹¤", sentence: "ãã®çœ¼é¡ã¯ã‚ˆãä¼¼åˆã†ã€‚", trans: "ê·¸ ì•ˆê²½ì€ ì˜ ì–´ìš¸ë ¤." },
            { word: "ç™½ã„", reading: "ã—ã‚ã„", meaning: "í•˜ì–—ë‹¤", sentence: "ç™½ã„ã‚·ãƒ£ãƒ„ã‚’ç€ã‚‹ã€‚", trans: "í•˜ì–€ ì…”ì¸ ë¥¼ ì…ë‹¤." },
            { word: "ç©º", reading: "ãã‚‰", meaning: "í•˜ëŠ˜", sentence: "ç©ºãŒé’ã„ã€‚", trans: "í•˜ëŠ˜ì´ íŒŒë—ë‹¤." },
            { word: "é›ª", reading: "ã‚†ã", meaning: "ëˆˆ", sentence: "é›ªãŒé™ã£ã¦ããŸã€‚", trans: "ëˆˆì´ ë‚´ë¦¬ê¸° ì‹œì‘í–ˆë‹¤." },
            { word: "è½ã¡ã‚‹", reading: "ãŠã¡ã‚‹", meaning: "ë–¨ì–´ì§€ë‹¤", sentence: "è‘‰ã£ã±ãŒè½ã¡ã‚‹ã€‚", trans: "ë‚˜ë­‡ìì´ ë–¨ì–´ì§„ë‹¤." },
            { word: "åˆ¥ã«", reading: "ã¹ã¤ã«", meaning: "ë³„ë¡œ", sentence: "åˆ¥ã«ä½•ã§ã‚‚ãªã„ã‚ˆã€‚", trans: "ë³„ì¼ ì•„ë‹ˆì•¼." },
            { word: "åãå‡ºã™", reading: "ã¯ãã ã™", meaning: "ë‚´ë±‰ë‹¤", sentence: "ãŸã‚æ¯ã‚’åãå‡ºã™ã€‚", trans: "í•œìˆ¨ì„ ë‚´ë±‰ë‹¤." },
            { word: "ãŸã‚æ¯", reading: "ãŸã‚ã„ã", meaning: "í•œìˆ¨", sentence: "å¤§ããªãŸã‚æ¯ã‚’ã¤ãã€‚", trans: "í° í•œìˆ¨ì„ ì‰¬ë‹¤." },
            { word: "å°‘ã—", reading: "ã™ã“ã—", meaning: "ì¡°ê¸ˆ", sentence: "å°‘ã—ç–²ã‚Œã¾ã—ãŸã€‚", trans: "ì¡°ê¸ˆ í”¼ê³¤í•©ë‹ˆë‹¤." },
            { word: "æ®‹ã‚‹", reading: "ã®ã“ã‚‹", meaning: "ë‚¨ë‹¤", sentence: "è¨˜æ†¶ã«æ®‹ã‚‹ã€‚", trans: "ê¸°ì–µì— ë‚¨ë‹¤." }, // ìˆ˜ì •ë¨
            { word: "å¯‚ã—ã„", reading: "ã•ã³ã—ã„", meaning: "ì“¸ì“¸í•˜ë‹¤", sentence: "ä¸€äººã§å¯‚ã—ã„ã€‚", trans: "í˜¼ìë¼ ì“¸ì“¸í•˜ë‹¤." },
            { word: "æ¶ˆãˆã‚‹", reading: "ããˆã‚‹", meaning: "ì‚¬ë¼ì§€ë‹¤", sentence: "ä¿¡å·ãŒæ¶ˆãˆã‚‹ã€‚", trans: "ì‹ í˜¸ê°€ ì‚¬ë¼ì§€ë‹¤(êº¼ì§€ë‹¤)." }, // ìˆ˜ì •ë¨
            { word: "è¡—", reading: "ã¾ã¡", meaning: "ê±°ë¦¬", sentence: "è³‘ã‚„ã‹ãªè¡—ã‚’æ­©ãã€‚", trans: "ë²ˆí™”í•œ ê±°ë¦¬ë¥¼ ê±·ë‹¤." },
            { word: "é™ã‚‹", reading: "ãµã‚‹", meaning: "ë‚´ë¦¬ë‹¤", sentence: "é›¨ãŒé™ã‚‹ã€‚", trans: "ë¹„ê°€ ë‚´ë¦¬ë‹¤." },
            { word: "ä»Š", reading: "ã„ã¾", meaning: "ì§€ê¸ˆ", sentence: "ä»Šã¯å¿™ã—ã„ã§ã™ã€‚", trans: "ì§€ê¸ˆì€ ë°”ì©ë‹ˆë‹¤." },
            { word: "éš£", reading: "ã¨ãªã‚Š", meaning: "ì˜†", sentence: "éš£ã®å®¶ã«ä½ã‚€ã€‚", trans: "ì˜†ì§‘ì— ì‚´ë‹¤." },
            { word: "ç¶ºéº—", reading: "ãã‚Œã„", meaning: "ì˜ˆì˜ë‹¤", sentence: "èŠ±ãŒç¶ºéº—ã«å’²ã„ãŸã€‚", trans: "ê½ƒì´ ì˜ˆì˜ê²Œ í”¼ì—ˆë‹¤." },
            { word: "ç¬‘ã†", reading: "ã‚ã‚‰ã†", meaning: "ì›ƒë‹¤", sentence: "å¤§å£°ã§ç¬‘ã†ã€‚", trans: "í° ì†Œë¦¬ë¡œ ì›ƒë‹¤." },
            { word: "å¯’ã„", reading: "ã•ã‚€ã„", meaning: "ì¶¥ë‹¤", sentence: "å¤–ã¯ã¨ã¦ã‚‚å¯’ã„ã€‚", trans: "ë°–ì€ ë§¤ìš° ì¶¥ë‹¤." },
            { word: "å¬‰ã—ã„", reading: "ã†ã‚Œã—ã„", meaning: "ê¸°ì˜ë‹¤", sentence: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’ã‚‚ã‚‰ã£ã¦å¬‰ã—ã„ã€‚", trans: "ì„ ë¬¼ì„ ë°›ì•„ì„œ ê¸°ì˜ë‹¤." },
            { word: "è»¢ã¶", reading: "ã“ã‚ã¶", meaning: "ë„˜ì–´ì§€ë‹¤", sentence: "é›ªé“ã§è»¢ã¶ã€‚", trans: "ëˆˆê¸¸ì—ì„œ ë„˜ì–´ì§€ë‹¤." }, // ìˆ˜ì •ë¨
            { word: "æ´ã‚€", reading: "ã¤ã‹ã‚€", meaning: "ì¡ë‹¤", sentence: "ãƒãƒ£ãƒ³ã‚¹ã‚’æ´ã‚€ã€‚", trans: "ê¸°íšŒë¥¼ ì¡ë‹¤." },
            { word: "æ‰‹", reading: "ã¦", meaning: "ì†", sentence: "æ‰‹ã‚’ç¹‹ãã€‚", trans: "ì†ì„ ì¡ë‹¤." },
            { word: "å…ˆ", reading: "ã•ã", meaning: "ì•, ë", sentence: "ãŠå…ˆã«å¤±ç¤¼ã—ã¾ã™ã€‚", trans: "ë¨¼ì € ì‹¤ë¡€í•˜ê² ìŠµë‹ˆë‹¤." },
            { word: "æ¥½ã—ã„", reading: "ãŸã®ã—ã„", meaning: "ì¦ê²ë‹¤", sentence: "æ—…è¡Œã¯æ¥½ã—ã„ã€‚", trans: "ì—¬í–‰ì€ ì¦ê²ë‹¤." },
            { word: "æ°—ä»˜ã", reading: "ãã¥ã", meaning: "ê¹¨ë‹«ë‹¤", sentence: "é–“é•ã„ã«æ°—ä»˜ãã€‚", trans: "ì‹¤ìˆ˜ë¥¼ ê¹¨ë‹«ë‹¤." },
            { word: "è¾ºã‚Š", reading: "ã‚ãŸã‚Š", meaning: "ì£¼ë³€", sentence: "è¾ºã‚ŠãŒæš—ããªã‚‹ã€‚", trans: "ì£¼ë³€ì´ ì–´ë‘ì›Œì§€ë‹¤." },
            { word: "ã»ã¨ã‚“ã©", reading: "", meaning: "ëŒ€ë¶€ë¶„", sentence: "å®¿é¡Œã¯ã»ã¨ã‚“ã©çµ‚ã‚ã£ãŸã€‚", trans: "ìˆ™ì œëŠ” ëŒ€ë¶€ë¶„ ëë‚¬ë‹¤." },
            { word: "æŸ“ã¾ã‚‹", reading: "ãã¾ã‚‹", meaning: "ë¬¼ë“¤ë‹¤", sentence: "å¤•æ—¥ã§èµ¤ãæŸ“ã¾ã‚‹ã€‚", trans: "ì„ì–‘ìœ¼ë¡œ ë¶‰ê²Œ ë¬¼ë“¤ë‹¤." },
            { word: "æ•£ã‚‰ã‹ã‚‹", reading: "ã¡ã‚‰ã‹ã‚‹", meaning: "ì–´ì§€ëŸ¬ì§€ë‹¤", sentence: "éƒ¨å±‹ãŒæ•£ã‚‰ã‹ã‚‹ã€‚", trans: "ë°©ì´ ì–´ì§€ëŸ¬ì§€ë‹¤." },
            { word: "å¿˜ã‚Œã‚‹", reading: "ã‚ã™ã‚Œã‚‹", meaning: "ìŠë‹¤", sentence: "å«Œãªã“ã¨ã‚’å¿˜ã‚Œã‚‹ã€‚", trans: "ì‹«ì€ ì¼ì„ ìŠë‹¤." }, // ìˆ˜ì •ë¨
            { word: "æ„å¤–ã¨", reading: "ã„ãŒã„ã¨", meaning: "ì˜ì™¸ë¡œ", sentence: "å½¼ã¯æ„å¤–ã¨å„ªã—ã„ã€‚", trans: "ê·¸ëŠ” ì˜ì™¸ë¡œ ìƒëƒ¥í•˜ë‹¤." },
            { word: "ç©ã‚‚ã‚‹", reading: "ã¤ã‚‚ã‚‹", meaning: "ìŒ“ì´ë‹¤", sentence: "é›ªãŒç©ã‚‚ã‚‹ã€‚", trans: "ëˆˆì´ ìŒ“ì´ë‹¤." },
            { word: "ãƒ¡ãƒ¼ãƒ«", reading: "ã‚ãƒ¼ã‚‹", meaning: "ë©”ì¼", sentence: "ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹ã€‚", trans: "ë©”ì¼ì„ ë³´ë‚´ë‹¤." },
            { word: "é€ã‚‹", reading: "ãŠãã‚‹", meaning: "ë³´ë‚´ë‹¤", sentence: "è·ç‰©ã‚’é€ã‚‹ã€‚", trans: "ì§ì„ ë³´ë‚´ë‹¤." },
            { word: "æ‰“ã¡ã‹ã‘", reading: "ã†ã¡ã‹ã‘", meaning: "ì¹˜ë‹¤ ë§Œ", sentence: "æ‰“ã¡ã‹ã‘ã®ãƒ¡ãƒ¼ãƒ«ã€‚", trans: "ì“°ë‹¤ ë§Œ ë©”ì¼." },
            { word: "ãƒã‚±ãƒƒãƒˆ", reading: "ã½ã‘ã£ã¨", meaning: "ì£¼ë¨¸ë‹ˆ", sentence: "ãƒã‚±ãƒƒãƒˆã«æ‰‹ã‚’å…¥ã‚Œã‚‹ã€‚", trans: "ì£¼ë¨¸ë‹ˆì— ì†ì„ ë„£ë‹¤." },
            { word: "å…¥ã‚Œã‚‹", reading: "ã„ã‚Œã‚‹", meaning: "ë„£ë‹¤", sentence: "çˆç²ã«ç ‚ç³–ã‚’å…¥ã‚Œã‚‹ã€‚", trans: "ì»¤í”¼ì— ì„¤íƒ•ì„ ë„£ë‹¤." },
            { word: "å¥½ã‚€", reading: "ã“ã®ã‚€", meaning: "ì¢‹ì•„í•˜ë‹¤", sentence: "é™ã‹ãªå ´æ‰€ã‚’å¥½ã‚€ã€‚", trans: "ì¡°ìš©í•œ ì¥ì†Œë¥¼ ì¢‹ì•„í•˜ë‹¤." },
            { word: "å¼·ã„", reading: "ã¤ã‚ˆã„", meaning: "ê°•í•˜ë‹¤", sentence: "é¢¨ãŒå¼·ã„ã€‚", trans: "ë°”ëŒì´ ê°•í•˜ë‹¤." },
            { word: "å„ªã—ã„", reading: "ã‚„ã•ã—ã„", meaning: "ìƒëƒ¥í•˜ë‹¤", sentence: "å„ªã—ã„äººã«ãªã‚ŠãŸã„ã€‚", trans: "ìƒëƒ¥í•œ ì‚¬ëŒì´ ë˜ê³  ì‹¶ë‹¤." },
            { word: "å¤‰ã‚ã‚‹", reading: "ã‹ã‚ã‚‹", meaning: "ë³€í•˜ë‹¤", sentence: "ä¿¡å·ãŒå¤‰ã‚ã‚‹ã€‚", trans: "ì‹ í˜¸ê°€ ë°”ë€Œë‹¤." },
            { word: "å‡ºã™", reading: "ã ã™", meaning: "ë‚´ë‹¤", sentence: "ã‚´ãƒŸã‚’å‡ºã™ã€‚", trans: "ì“°ë ˆê¸°ë¥¼ ë‚´ë‹¤." },
            { word: "ç­”ãˆ", reading: "ã“ãŸãˆ", meaning: "ëŒ€ë‹µ", sentence: "ç­”ãˆãŒåˆ†ã‹ã‚‰ãªã„ã€‚", trans: "ì •ë‹µì„ ëª¨ë¥´ê² ë‹¤." },
            { word: "èƒ¸", reading: "ã‚€ã­", meaning: "ê°€ìŠ´", sentence: "èƒ¸ãŒç—›ã„ã€‚", trans: "ê°€ìŠ´ì´ ì•„í”„ë‹¤." },
            { word: "ç—›ã„", reading: "ã„ãŸã„", meaning: "ì•„í”„ë‹¤", sentence: "é ­ãŒç—›ã„ã€‚", trans: "ë¨¸ë¦¬ê°€ ì•„í”„ë‹¤." },
            { word: "æ¸¡ã™", reading: "ã‚ãŸã™", meaning: "ê±´ë„¤ë‹¤", sentence: "æ‰‹ç´™ã‚’æ¸¡ã™ã€‚", trans: "í¸ì§€ë¥¼ ê±´ë„¤ë‹¤." },
            { word: "æ¨ã¦ã‚‹", reading: "ã™ã¦ã‚‹", meaning: "ë²„ë¦¬ë‹¤", sentence: "ã‚´ãƒŸã‚’æ¨ã¦ã‚‹ã€‚", trans: "ì“°ë ˆê¸°ë¥¼ ë²„ë¦¬ë‹¤." },
            { word: "åˆ†ã‹ã‚‹", reading: "ã‚ã‹ã‚‹", meaning: "ì•Œë‹¤", sentence: "æ„å‘³ãŒåˆ†ã‹ã‚‹ã€‚", trans: "ì˜ë¯¸ë¥¼ ì•Œë‹¤." },
            { word: "æ™¯è‰²", reading: "ã‘ã—ã", meaning: "ê²½ì¹˜", sentence: "æ™¯è‰²ãŒç¶ºéº—ã ã€‚", trans: "ê²½ì¹˜ê°€ ì˜ˆì˜ë‹¤." },
            { word: "ãŸã ", reading: "", meaning: "ê·¸ì €", sentence: "ãŸã å›ã«ä¼šã„ãŸã„ã€‚", trans: "ê·¸ì € ë„ˆë¥¼ ë§Œë‚˜ê³  ì‹¶ì–´." },
            { word: "æ€¯ãˆã‚‹", reading: "ãŠã³ãˆã‚‹", meaning: "ê²ë‚´ë‹¤", sentence: "çŠ¬ã«æ€¯ãˆã‚‹ã€‚", trans: "ê°œë¥¼ ë¬´ì„œì›Œí•˜ë‹¤." },
            { word: "æ€ã†", reading: "ãŠã‚‚ã†", meaning: "ìƒê°í•˜ë‹¤", sentence: "ãã†æ€ã†ã€‚", trans: "ê·¸ë ‡ê²Œ ìƒê°í•œë‹¤." },
            { word: "æ˜ ç”»", reading: "ãˆã„ãŒ", meaning: "ì˜í™”", sentence: "æ˜ ç”»ã‚’è¦³ã«è¡Œãã€‚", trans: "ì˜í™”ë¥¼ ë³´ëŸ¬ ê°€ë‹¤." },
            { word: "è¦³ã‚‹", reading: "ã¿ã‚‹", meaning: "ë³´ë‹¤", sentence: "ãƒ†ãƒ¬ãƒ“ã‚’è¦³ã‚‹ã€‚", trans: "í…”ë ˆë¹„ì „ì„ ë³´ë‹¤." },
            { word: "å°èª¬", reading: "ã—ã‚‡ã†ã›ã¤", meaning: "ì†Œì„¤", sentence: "å°èª¬ã‚’èª­ã‚€ã€‚", trans: "ì†Œì„¤ì„ ì½ë‹¤." },
            { word: "éŸ³æ¥½", reading: "ãŠã‚“ãŒã", meaning: "ìŒì•…", sentence: "éŸ³æ¥½ã‚’è´ãã€‚", trans: "ìŒì•…ì„ ë“£ë‹¤." },
            { word: "ãƒ’ãƒ­ã‚¤ãƒ³", reading: "ã²ã‚ã„ã‚“", meaning: "ì—¬ì£¼ì¸ê³µ", sentence: "æ˜ ç”»ã®ãƒ’ãƒ­ã‚¤ãƒ³ã€‚", trans: "ì˜í™”ì˜ ì—¬ì£¼ì¸ê³µ." },
            { word: "é‡ã­ã‚‹", reading: "ã‹ã•ã­ã‚‹", meaning: "ê²¹ì¹˜ë‹¤", sentence: "çš¿ã‚’é‡ã­ã‚‹ã€‚", trans: "ì ‘ì‹œë¥¼ ê²¹ì¹˜ë‹¤." }, // ìˆ˜ì •ë¨
            { word: "è¡Œã", reading: "ã„ã", meaning: "ê°€ë‹¤", sentence: "å­¦æ ¡ã¸è¡Œãã€‚", trans: "í•™êµì— ê°€ë‹¤." },
            { word: "é ã„", reading: "ã¨ãŠã„", meaning: "ë©€ë‹¤", sentence: "é§…ã¯é ã„ã€‚", trans: "ì—­ì€ ë©€ë‹¤." },
            { word: "å ´æ‰€", reading: "ã°ã—ã‚‡", meaning: "ì¥ì†Œ", sentence: "ç´„æŸã®å ´æ‰€ã€‚", trans: "ì•½ì† ì¥ì†Œ." },
            { word: "å¤œç©º", reading: "ã‚ˆãã‚‰", meaning: "ë°¤í•˜ëŠ˜", sentence: "å¤œç©ºã®æ˜Ÿã€‚", trans: "ë°¤í•˜ëŠ˜ì˜ ë³„." },
            { word: "æã", reading: "ãˆãŒã", meaning: "ê·¸ë¦¬ë‹¤", sentence: "å¤¢ã‚’æãã€‚", trans: "ê¿ˆì„ ê·¸ë¦¬ë‹¤." },
            { word: "è¦‹æ…£ã‚Œã‚‹", reading: "ã¿ãªã‚Œã‚‹", meaning: "ëˆˆì— ìµë‹¤", sentence: "éƒ½ä¼šã®æ™¯è‰²ã«è¦‹æ…£ã‚Œã‚‹ã€‚", trans: "ë„ì‹œ í’ê²½ì— ìµìˆ™í•´ì§€ë‹¤." }, // ìˆ˜ì •ë¨
            { word: "é¦¬é¹¿", reading: "ã°ã‹", meaning: "ë°”ë³´", sentence: "é¦¬é¹¿ãªã“ã¨ã‚’ã—ãŸã€‚", trans: "ë°”ë³´ ê°™ì€ ì§“ì„ í–ˆë‹¤." },
            { word: "èª°", reading: "ã ã‚Œ", meaning: "ëˆ„êµ¬", sentence: "èª°ã§ã™ã‹ï¼Ÿ", trans: "ëˆ„êµ¬ì…ë‹ˆê¹Œ?" },
            { word: "ä¼šã†", reading: "ã‚ã†", meaning: "ë§Œë‚˜ë‹¤", sentence: "å‹é”ã«ä¼šã†ã€‚", trans: "ì¹œêµ¬ë¥¼ ë§Œë‚˜ë‹¤." },
            { word: "è¨€ã†", reading: "ã„ã†", meaning: "ë§í•˜ë‹¤", sentence: "ã‚ã‚ŠãŒã¨ã†ã¨è¨€ã†ã€‚", trans: "ê³ ë§™ë‹¤ê³  ë§í•˜ë‹¤." },
            { word: "ã‚„ã£ã±ã‚Š", reading: "", meaning: "ì—­ì‹œ", sentence: "ã‚„ã£ã±ã‚Šãã†ã ã€‚", trans: "ì—­ì‹œ ê·¸ë ‡ë‹¤." },
            { word: "å…¨éƒ¨", reading: "ãœã‚“ã¶", meaning: "ì „ë¶€", sentence: "å…¨éƒ¨é£Ÿã¹ãŸã€‚", trans: "ì „ë¶€ ë¨¹ì—ˆë‹¤." }
        ];

        let quizQueue = [];
        let currentQuizIndex = 0;
        let score = 0;
        let isAnswered = false;
        
        const totalQuestions = vocabData.length; 

        const contentDiv = document.getElementById('quiz-content');
        const feedbackDiv = document.getElementById('feedback');
        const feedbackMsg = document.getElementById('feedback-msg');
        const feedbackDetail = document.getElementById('feedback-detail');
        const scoreEl = document.getElementById('score');
        const progressEl = document.getElementById('progress');
        const headerEl = document.getElementById('quiz-header');

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function initQuiz() {
            // í—¤ë” ë³´ì´ê¸° (ì¬ì‹œì‘ ì‹œ)
            headerEl.style.display = 'flex';

            const shuffledData = shuffle([...vocabData]);
            quizQueue = shuffledData.map(item => {
                const type = Math.floor(Math.random() * 3);
                return { ...item, type: type };
            });

            currentQuizIndex = 0;
            score = 0;
            updateStatus();
            loadQuestion();
        }

        function updateStatus() {
            scoreEl.textContent = `ì ìˆ˜: ${score}`;
            progressEl.textContent = `ë¬¸ì œ ${currentQuizIndex + 1} / ${totalQuestions}`;
        }

        function loadQuestion() {
            isAnswered = false;
            feedbackDiv.style.display = 'none';
            contentDiv.innerHTML = '';

            if (currentQuizIndex >= totalQuestions) {
                finishQuiz();
                return;
            }

            const q = quizQueue[currentQuizIndex];
            
            if (q.type === 0) renderTypeMeaning(q);
            else if (q.type === 1) renderTypeBlank(q);
            else if (q.type === 2) renderTypeOrder(q);
        }

        // [Type 0] ë‹¨ì–´ ëœ» ë§íˆê¸°
        function renderTypeMeaning(q) {
            contentDiv.innerHTML = `
                <div class="type-label type-meaning">ë‹¨ì–´ ëœ» ë§íˆê¸°</div>
                <div class="question-area">
                    <div class="question-text">${q.word}</div>
                    <div class="sub-text">${q.reading ? `(${q.reading})` : ''}</div>
                </div>
                <div class="options-grid" id="options"></div>
            `;
            
            const distractors = shuffle(vocabData.filter(v => v.word !== q.word)).slice(0, 3);
            const options = shuffle([q, ...distractors]);

            const optionsContainer = document.getElementById('options');
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = opt.meaning;
                btn.onclick = () => checkAnswer(0, btn, opt, q);
                optionsContainer.appendChild(btn);
            });
        }

        // [Type 1] ë¹ˆì¹¸ ì¶”ë¡ 
        function renderTypeBlank(q) {
            const maskedSentence = q.sentence.replace(q.word, ' (   ) ');
            
            contentDiv.innerHTML = `
                <div class="type-label type-blank">ë¹ˆì¹¸ ì¶”ë¡ </div>
                <div class="question-area">
                    <div class="question-text">${maskedSentence}</div>
                    <div class="sub-text">${q.trans}</div>
                </div>
                <div class="options-grid" id="options"></div>
            `;

            const distractors = shuffle(vocabData.filter(v => v.word !== q.word)).slice(0, 3);
            const options = shuffle([q, ...distractors]);

            const optionsContainer = document.getElementById('options');
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerHTML = `<b>${opt.word}</b> <span style="font-size:0.8em">(${opt.reading || ''})</span>`;
                btn.onclick = () => checkAnswer(1, btn, opt, q);
                optionsContainer.appendChild(btn);
            });
        }

        // [Type 2] ë¬¸ì¥ ë°°ì—´
        function renderTypeOrder(q) {
            const len = q.sentence.length;
            const splitPoint = Math.floor(len / 2);
            let parts = [q.sentence.substring(0, splitPoint), q.sentence.substring(splitPoint)];
            if (len > 6) { 
                 parts = [
                     q.sentence.substring(0, Math.floor(len/3)),
                     q.sentence.substring(Math.floor(len/3), Math.floor(2*len/3)),
                     q.sentence.substring(Math.floor(2*len/3))
                 ];
            }
            
            const shuffledParts = shuffle([...parts.map((p, i) => ({ text: p, index: i }))]);
            
            contentDiv.innerHTML = `
                <div class="type-label type-order">ë¬¸ì¥ ì™„ì„±í•˜ê¸°</div>
                <div class="question-area" style="min-height:auto;">
                    <div class="sub-text" style="margin-bottom:10px;">ë‹¤ìŒ ëœ»ì´ ë˜ë„ë¡ ë‹¨ì–´ë¥¼ ìˆœì„œëŒ€ë¡œ ëˆ„ë¥´ì„¸ìš”.</div>
                    <div class="question-text" style="font-size:1.2em;">"${q.trans}"</div>
                </div>
                
                <div class="answer-box" id="answer-box"></div>
                <div class="scramble-container" id="scramble-box"></div>
                
                <div style="margin-top:20px;">
                    <button class="reset-btn" onclick="resetOrder()">ë‹¤ì‹œ í•˜ê¸°</button>
                    <button class="next-btn" style="padding:10px 20px; font-size:0.9em; background-color:#4a90e2;" onclick="checkOrderAnswer()">ì •ë‹µ í™•ì¸</button>
                </div>
            `;

            const scrambleBox = document.getElementById('scramble-box');
            window.currentOrderParts = shuffledParts;
            window.userOrder = [];
            window.correctString = q.sentence;
            window.currentQ = q;

            shuffledParts.forEach((part, idx) => {
                const chip = document.createElement('div');
                chip.className = 'word-chip';
                chip.textContent = part.text;
                chip.dataset.idx = idx;
                chip.onclick = () => addToAnswer(idx, part.text, chip);
                scrambleBox.appendChild(chip);
            });
        }

        function addToAnswer(idx, text, chipElem) {
            if (chipElem.classList.contains('used')) return;
            chipElem.classList.add('used');
            window.userOrder.push(text);
            
            const ansBox = document.getElementById('answer-box');
            const ansChip = document.createElement('div');
            ansChip.className = 'answer-chip';
            ansChip.textContent = text;
            ansBox.appendChild(ansChip);
        }

        function resetOrder() {
            window.userOrder = [];
            document.getElementById('answer-box').innerHTML = '';
            const chips = document.querySelectorAll('.word-chip');
            chips.forEach(c => c.classList.remove('used'));
        }

        function checkOrderAnswer() {
            if (isAnswered) return;
            isAnswered = true;
            
            const userString = window.userOrder.join('');
            const isCorrect = (userString === window.correctString);
            
            showFeedback(isCorrect, window.correctString, window.currentQ.trans);
            if (isCorrect) score++;
            updateStatus();
        }

        function checkAnswer(type, btnElem, selectedOpt, questionOpt) {
            if (isAnswered) return;
            isAnswered = true;

            const isCorrect = (selectedOpt.word === questionOpt.word);
            
            if (isCorrect) {
                btnElem.classList.add('correct');
                score++;
            } else {
                btnElem.classList.add('wrong');
                const buttons = document.querySelectorAll('.option-btn');
                buttons.forEach(b => {
                    if (type === 0 && b.textContent === questionOpt.meaning) b.classList.add('correct');
                    if (type === 1 && b.innerHTML.includes(questionOpt.word)) b.classList.add('correct');
                });
            }
            
            updateStatus();
            showFeedback(isCorrect, `${questionOpt.word} : ${questionOpt.sentence}`, questionOpt.trans);
        }

        function showFeedback(isCorrect, correctText, subText) {
            feedbackDiv.style.display = 'block';
            if (isCorrect) {
                feedbackMsg.textContent = "â­• ì •ë‹µì…ë‹ˆë‹¤!";
                feedbackMsg.style.color = "#28a745";
            } else {
                feedbackMsg.textContent = "âŒ í‹€ë ¸ìŠµë‹ˆë‹¤.";
                feedbackMsg.style.color = "#dc3545";
            }
            feedbackDetail.innerHTML = `<div style="font-size:1.2em; font-weight:bold;">${correctText}</div><div>${subText}</div>`;
        }

        function nextQuestion() {
            currentQuizIndex++;
            updateStatus();
            loadQuestion();
        }

        function finishQuiz() {
            // ê²°ê³¼ í™”ë©´ì—ì„œëŠ” í—¤ë” ìˆ¨ê¹€
            headerEl.style.display = 'none';

            contentDiv.innerHTML = `
                <div style="padding:40px;">
                    <div style="font-size:3em; margin-bottom:20px;">ğŸ‰</div>
                    <h2>ëª¨ë“  ë¬¸ì œë¥¼ í’€ì—ˆìŠµë‹ˆë‹¤!</h2>
                    <p style="font-size:1.2em; color:#555;">
                        ì´ ${totalQuestions}ë¬¸ì œ ì¤‘ <strong style="color:#4a90e2;">${score}</strong>ê°œë¥¼ ë§ì·„ìŠµë‹ˆë‹¤.
                    </p>
                    <button class="next-btn" onclick="initQuiz()">ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°</button>
                </div>
            `;
            feedbackDiv.style.display = 'none';
        }

        initQuiz();

    </script>
</body>
</html>